<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/src/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>

    <!-- <script>
      // var rAF = (function () {
      //   return (
      //     window.requestAnimationFrame ||
      //     window.webkitRequestAnimationFrame ||
      //     function (callback) {
      //       window.setTimeout(callback, 1000 / 60);
      //     }
      //   );
      // })();

      // console.log('%c⧭', 'color: #007300', rAF);

      var frame = 0;

      // 一共执行了多少帧
      // var allFrameCount = 0;

      // 上一次计算fps的 时间戳
      var lastTime = Date.now();

      // 上一帧的 时间戳
      var lastFameTime = Date.now();

      // 递归函数
      var loop = function () {
        var now = Date.now();

        // 每一帧的时间间隔
        var fs = now - lastFameTime;

        // 每一帧的 fps
        var fps = Math.round(1000 / fs);

        lastFameTime = now;
        // 不置 0，在动画的开头及结尾记录此值的差值算出 FPS
        // allFrameCount++;
        frame++;

        // 1s下的fps计算
        if (now > 1000 + lastTime) {
          console.log('%c%s', 'color: #997326', frame);
          var fps = Math.round((frame * 1000) / (now - lastTime));
          console.log(`${new Date()} 1S内 FPS：`, fps);
          frame = 0;
          lastTime = now;
        }

        // rAF(loop);
        window.requestAnimationFrame(loop);
      };

      // loop();
    </script> -->
  </body>
</html>
